(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{104:function(e,t,c){"use strict";c.r(t);var a=c(0);function s(e,t,c){const a=Object.create(e);return a.log=t[c],a}function b(e){var t,c;return{c(){t=Object(a.m)("div"),c=Object(a.E)(e.message),Object(a.e)(t,"class","alert alert-success"),Object(a.e)(t,"role","alert")},m(e,s){Object(a.s)(e,t,s),Object(a.c)(t,c)},p(e,t){e.message&&Object(a.A)(c,t.message)},d(e){e&&Object(a.l)(t)}}}function n(e){var t,c,s,b=e.log+"";return{c(){t=Object(a.m)("li"),c=Object(a.E)(b),s=Object(a.D)(),Object(a.e)(t,"class","list-group-item")},m(e,b){Object(a.s)(e,t,b),Object(a.c)(t,c),Object(a.c)(t,s)},p(e,t){e.logs&&b!==(b=t.log+"")&&Object(a.A)(c,b)},d(e){e&&Object(a.l)(t)}}}function i(e){var t,c,i,l,j,O,o,d,r,u,m,p,g,f,h,v,_,w,y,x,D,A,k,S,T,C,F,I,B,G,N,P,E,L,J,R=e.message&&b(e);let U=e.logs,$=[];for(let t=0;t<U.length;t+=1)$[t]=n(s(e,U,t));return{c(){R&&R.c(),t=Object(a.D)(),c=Object(a.m)("div"),(i=Object(a.m)("div")).textContent="Add New Gyaan",l=Object(a.D)(),j=Object(a.m)("div"),O=Object(a.m)("form"),o=Object(a.m)("div"),(d=Object(a.m)("label")).textContent="Title",r=Object(a.D)(),u=Object(a.m)("input"),m=Object(a.D)(),p=Object(a.m)("div"),(g=Object(a.m)("label")).textContent="Description",f=Object(a.D)(),h=Object(a.m)("textarea"),v=Object(a.D)(),_=Object(a.m)("div"),(w=Object(a.m)("label")).textContent="Image:",y=Object(a.D)(),x=Object(a.m)("input"),D=Object(a.D)(),A=Object(a.m)("div"),k=Object(a.m)("div"),S=Object(a.m)("button"),T=Object(a.E)("Submit"),F=Object(a.D)(),(I=Object(a.m)("a")).textContent="Close",B=Object(a.D)(),(G=Object(a.m)("div")).innerHTML='<div class="h2">Logs</div>',N=Object(a.D)(),P=Object(a.m)("div"),E=Object(a.m)("div"),L=Object(a.m)("ul");for(let e=0;e<$.length;e+=1)$[e].c();Object(a.e)(i,"class","h2 col-md-6 offset-md-3"),Object(a.e)(d,"for","title"),Object(a.e)(u,"type","text"),Object(a.e)(u,"class","form-control"),Object(a.e)(u,"id","title"),Object(a.e)(o,"class","form-group"),Object(a.e)(g,"for","description"),Object(a.e)(h,"type","text"),Object(a.e)(h,"class","form-control"),Object(a.e)(h,"id","description"),Object(a.e)(p,"class","form-group"),Object(a.e)(w,"for","pwd"),Object(a.e)(x,"type","file"),Object(a.e)(x,"name","photo"),Object(a.e)(x,"id","photo"),Object(a.e)(x,"class","form-control"),Object(a.e)(_,"class","form-group"),Object(a.e)(S,"type","submit"),Object(a.e)(S,"class","btn btn-primary mr-2"),S.disabled=C=!e.image_uploaded,Object(a.G)(S,"disabled",!e.image_uploaded),Object(a.e)(I,"class","btn btn-danger ml-2"),Object(a.e)(I,"href","/dashboard"),Object(a.e)(k,"class","d-flex justify-content-center"),Object(a.e)(A,"class","form-group"),Object(a.e)(O,"class","m-5"),Object(a.e)(j,"class","card col-md-6"),Object(a.e)(c,"class","d-flex justify-content-center m-4 row"),Object(a.e)(G,"class","d-flex justify-content-center m-4"),Object(a.e)(L,"class","list-group list-group-flush"),Object(a.e)(E,"class","card"),Object(a.e)(P,"class","d-flex justify-content-center m-4"),J=[Object(a.u)(u,"input",e.input0_input_handler),Object(a.u)(h,"input",e.textarea_input_handler),Object(a.u)(x,"change",e.input1_change_handler),Object(a.u)(x,"change",e.upload),Object(a.u)(O,"submit",e.upload_gyaan)]},m(s,b){R&&R.m(s,b),Object(a.s)(s,t,b),Object(a.s)(s,c,b),Object(a.c)(c,i),Object(a.c)(c,l),Object(a.c)(c,j),Object(a.c)(j,O),Object(a.c)(O,o),Object(a.c)(o,d),Object(a.c)(o,r),Object(a.c)(o,u),Object(a.B)(u,e.title),Object(a.c)(O,m),Object(a.c)(O,p),Object(a.c)(p,g),Object(a.c)(p,f),Object(a.c)(p,h),Object(a.B)(h,e.description),Object(a.c)(O,v),Object(a.c)(O,_),Object(a.c)(_,w),Object(a.c)(_,y),Object(a.c)(_,x),Object(a.c)(O,D),Object(a.c)(O,A),Object(a.c)(A,k),Object(a.c)(k,S),Object(a.c)(S,T),Object(a.c)(k,F),Object(a.c)(k,I),Object(a.s)(s,B,b),Object(a.s)(s,G,b),Object(a.s)(s,N,b),Object(a.s)(s,P,b),Object(a.c)(P,E),Object(a.c)(E,L);for(let e=0;e<$.length;e+=1)$[e].m(L,null)},p(e,c){if(c.message?R?R.p(e,c):((R=b(c)).c(),R.m(t.parentNode,t)):R&&(R.d(1),R=null),e.title&&u.value!==c.title&&Object(a.B)(u,c.title),e.description&&Object(a.B)(h,c.description),e.image_uploaded&&C!==(C=!c.image_uploaded)&&(S.disabled=C),e.image_uploaded&&Object(a.G)(S,"disabled",!c.image_uploaded),e.logs){let t;for(U=c.logs,t=0;t<U.length;t+=1){const a=s(c,U,t);$[t]?$[t].p(e,a):($[t]=n(a),$[t].c(),$[t].m(L,null))}for(;t<$.length;t+=1)$[t].d(1);$.length=U.length}},i:a.w,o:a.w,d(e){R&&R.d(e),e&&(Object(a.l)(t),Object(a.l)(c),Object(a.l)(B),Object(a.l)(G),Object(a.l)(N),Object(a.l)(P)),Object(a.k)($,e),Object(a.y)(J)}}}function l(e,t,a){let s=[],b="",n="",i="",l="",j="",O=!1,o="",d=c(33);return{logs:s,image_path:b,title:i,description:l,image_uploaded:O,message:o,upload:async function(e){if(this.files&&this.files[0]){var t=new FileReader;t.addEventListener("load",(async function(e){let t=e.target.result;a("image_uploaded",O=!1),s.unshift("Adding image to IPFS..."),a("logs",s),n=await ipfs.add(t),s.unshift("Added image to IPFS. IPFS hash: "+n+". Ready to submit."),a("logs",s),a("image_uploaded",O=!0)})),t.readAsDataURL(this.files[0])}},upload_gyaan:async function(e){a("message",o=""),e.preventDefault(),s.unshift("Adding gyaan to IPFS..."),a("logs",s),j=await ipfs.addJSON({title:i,description:l,image:n}),s.unshift("Added Gyaan to ipfs. IPFS hash: "+j+". Adding to ethereum blockchain..."),a("logs",s);let t=await erc721.functions.mintUniqueTokenTo(await wallet.getAddress(),j);s.unshift("Transaction added. Transaction hash: "+t.hash+" Waiting for transaction to be mined..."),a("logs",s);let c=await t.wait();s.unshift("Transaction mined. Block Number: "+c.blockNumber),a("logs",s),a("message",o=`Gyaan Added. You can check the transaction in https://${d.network}.etherscan.io/tx/${t.hash}`)},input0_input_handler:function(){i=this.value,a("title",i)},textarea_input_handler:function(){l=this.value,a("description",l)},input1_change_handler:function(){b=this.value,a("image_path",b)}}}class j extends a.a{constructor(e){super(),Object(a.r)(this,e,l,i,a.z,[])}}t.default=j}}]);