(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{104:function(e,t,c){"use strict";c.r(t);var a=c(0);function n(e,t,c){const a=Object.create(e);return a.log=t[c],a}function s(e){var t,c;return{c(){t=Object(a.m)("div"),c=Object(a.E)(e.message),Object(a.e)(t,"class","alert alert-success"),Object(a.e)(t,"role","alert")},m(e,n){Object(a.s)(e,t,n),Object(a.c)(t,c)},p(e,t){e.message&&Object(a.A)(c,t.message)},d(e){e&&Object(a.l)(t)}}}function b(e){var t,c,n,s=e.log+"";return{c(){t=Object(a.m)("li"),c=Object(a.E)(s),n=Object(a.D)(),Object(a.e)(t,"class","list-group-item")},m(e,s){Object(a.s)(e,t,s),Object(a.c)(t,c),Object(a.c)(t,n)},p(e,t){e.logs&&s!==(s=t.log+"")&&Object(a.A)(c,s)},d(e){e&&Object(a.l)(t)}}}function i(e){var t,c,i,l,j,o,O,d,r,u,m,p,g,f,h,v,_,y,w,D,x,A,B,E,k,C,F,S,T,G,I,N,P,J,L,R=e.message&&s(e);let M=e.logs,U=[];for(let t=0;t<M.length;t+=1)U[t]=b(n(e,M,t));return{c(){R&&R.c(),t=Object(a.D)(),c=Object(a.m)("div"),(i=Object(a.m)("div")).textContent="Add New Gyaan",l=Object(a.D)(),j=Object(a.m)("div"),o=Object(a.m)("form"),O=Object(a.m)("div"),(d=Object(a.m)("label")).textContent="Title",r=Object(a.D)(),u=Object(a.m)("input"),m=Object(a.D)(),p=Object(a.m)("div"),(g=Object(a.m)("label")).textContent="Description",f=Object(a.D)(),h=Object(a.m)("textarea"),v=Object(a.D)(),_=Object(a.m)("div"),(y=Object(a.m)("label")).textContent="Image:",w=Object(a.D)(),D=Object(a.m)("input"),x=Object(a.D)(),A=Object(a.m)("div"),B=Object(a.m)("div"),E=Object(a.m)("button"),k=Object(a.E)("Submit"),F=Object(a.D)(),(S=Object(a.m)("a")).textContent="Close",T=Object(a.D)(),(G=Object(a.m)("div")).innerHTML='<div class="h2">Logs</div>',I=Object(a.D)(),N=Object(a.m)("div"),P=Object(a.m)("div"),J=Object(a.m)("ul");for(let e=0;e<U.length;e+=1)U[e].c();Object(a.e)(i,"class","h2 col-md-6 offset-md-3"),Object(a.e)(d,"for","title"),Object(a.e)(u,"type","text"),Object(a.e)(u,"class","form-control"),Object(a.e)(u,"id","title"),Object(a.e)(O,"class","form-group"),Object(a.e)(g,"for","description"),Object(a.e)(h,"type","text"),Object(a.e)(h,"class","form-control"),Object(a.e)(h,"id","description"),Object(a.e)(p,"class","form-group"),Object(a.e)(y,"for","pwd"),Object(a.e)(D,"type","file"),Object(a.e)(D,"name","photo"),Object(a.e)(D,"id","photo"),Object(a.e)(D,"class","form-control"),Object(a.e)(_,"class","form-group"),Object(a.e)(E,"type","submit"),Object(a.e)(E,"class","btn btn-primary mr-2"),E.disabled=C=!e.image_uploaded,Object(a.G)(E,"disabled",!e.image_uploaded),Object(a.e)(S,"class","btn btn-danger ml-2"),Object(a.e)(S,"href","/dashboard"),Object(a.e)(B,"class","d-flex justify-content-center"),Object(a.e)(A,"class","form-group"),Object(a.e)(o,"class","m-5"),Object(a.e)(j,"class","card col-md-6"),Object(a.e)(c,"class","d-flex justify-content-center m-4 row"),Object(a.e)(G,"class","d-flex justify-content-center m-4"),Object(a.e)(J,"class","list-group list-group-flush"),Object(a.e)(P,"class","card"),Object(a.e)(N,"class","d-flex justify-content-center m-4"),L=[Object(a.u)(u,"input",e.input0_input_handler),Object(a.u)(h,"input",e.textarea_input_handler),Object(a.u)(D,"change",e.input1_change_handler),Object(a.u)(D,"change",e.upload),Object(a.u)(o,"submit",e.upload_gyaan)]},m(n,s){R&&R.m(n,s),Object(a.s)(n,t,s),Object(a.s)(n,c,s),Object(a.c)(c,i),Object(a.c)(c,l),Object(a.c)(c,j),Object(a.c)(j,o),Object(a.c)(o,O),Object(a.c)(O,d),Object(a.c)(O,r),Object(a.c)(O,u),Object(a.B)(u,e.title),Object(a.c)(o,m),Object(a.c)(o,p),Object(a.c)(p,g),Object(a.c)(p,f),Object(a.c)(p,h),Object(a.B)(h,e.description),Object(a.c)(o,v),Object(a.c)(o,_),Object(a.c)(_,y),Object(a.c)(_,w),Object(a.c)(_,D),Object(a.c)(o,x),Object(a.c)(o,A),Object(a.c)(A,B),Object(a.c)(B,E),Object(a.c)(E,k),Object(a.c)(B,F),Object(a.c)(B,S),Object(a.s)(n,T,s),Object(a.s)(n,G,s),Object(a.s)(n,I,s),Object(a.s)(n,N,s),Object(a.c)(N,P),Object(a.c)(P,J);for(let e=0;e<U.length;e+=1)U[e].m(J,null)},p(e,c){if(c.message?R?R.p(e,c):((R=s(c)).c(),R.m(t.parentNode,t)):R&&(R.d(1),R=null),e.title&&u.value!==c.title&&Object(a.B)(u,c.title),e.description&&Object(a.B)(h,c.description),e.image_uploaded&&C!==(C=!c.image_uploaded)&&(E.disabled=C),e.image_uploaded&&Object(a.G)(E,"disabled",!c.image_uploaded),e.logs){let t;for(M=c.logs,t=0;t<M.length;t+=1){const a=n(c,M,t);U[t]?U[t].p(e,a):(U[t]=b(a),U[t].c(),U[t].m(J,null))}for(;t<U.length;t+=1)U[t].d(1);U.length=M.length}},i:a.w,o:a.w,d(e){R&&R.d(e),e&&(Object(a.l)(t),Object(a.l)(c),Object(a.l)(T),Object(a.l)(G),Object(a.l)(I),Object(a.l)(N)),Object(a.k)(U,e),Object(a.y)(L)}}}function l(e,t,a){let n=[],s="",b="",i="",l="",j="",o=!1,O="",d=c(70);return{logs:n,image_path:s,title:i,description:l,image_uploaded:o,message:O,upload:async function(e){if(this.files&&this.files[0]){var t=new FileReader;t.addEventListener("load",(async function(e){let t=e.target.result;a("image_uploaded",o=!1),n.unshift("Adding image to IPFS..."),a("logs",n),b=await ipfs.add(t),n.unshift("Added image to IPFS. IPFS hash: "+b+". Ready to submit."),a("logs",n),a("image_uploaded",o=!0)})),t.readAsDataURL(this.files[0])}},upload_gyaan:async function(e){a("message",O=""),e.preventDefault(),n.unshift("Adding gyaan to IPFS..."),a("logs",n),j=await ipfs.addJSON({title:i,description:l,image:b}),n.unshift("Added Gyaan to ipfs. IPFS hash: "+j+". Adding to ethereum blockchain..."),a("logs",n);let t=await erc721.functions.mintUniqueTokenTo(await wallet.getAddress(),j);n.unshift("Transaction added. Transaction hash: "+t.hash+" Waiting for transaction to be mined..."),a("logs",n);let c=await t.wait();n.unshift("Transaction mined. Block Number: "+c.blockNumber),a("logs",n),a("message",O=`Gyaan Added. You can check the transaction in https://${d.network}.etherscan.io/tx/${t.hash}`)},input0_input_handler:function(){i=this.value,a("title",i)},textarea_input_handler:function(){l=this.value,a("description",l)},input1_change_handler:function(){s=this.value,a("image_path",s)}}}class j extends a.a{constructor(e){super(),Object(a.r)(this,e,l,i,a.z,[])}}t.default=j},70:function(e){e.exports=JSON.parse('{"private_key":"24C4FE6063E62710EAD956611B71825B778B041B18ED53118CE5DA5F02E494BA","network":"kovan","MyERC721":"0x07f48f7c5C59217AE78126f42EdB845B27752b6D","CryptoGyaan":"0x994B73D29dAB5d2533D09Af028Af27726abd3dA1"}')}}]);